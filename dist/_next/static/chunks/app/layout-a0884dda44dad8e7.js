(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9284:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,3275,23)),Promise.resolve().then(t.bind(t,668)),Promise.resolve().then(t.bind(t,6404))},668:(e,s,t)=>{"use strict";t.d(s,{V:()=>c,default:()=>r});var n=t(7437),a=t(2265),o=t(2122),i=t.n(o);let c=(0,a.createContext)({pusher:null,setPusher:()=>{},channel:null,setChannel:()=>{},pusherAcomp:null,setPusherAcomp:()=>{},channelAcomp:null,setChannelAcomp:()=>{},userName:"",setUserName:()=>{},userEmail:"",setUserEmail:()=>{},acompanhante:!1,setAcompanhante:()=>{}}),r=e=>{let{children:s}=e,[t,o]=(0,a.useState)(null),[r,l]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[p,h]=(0,a.useState)(null),[d,b]=(0,a.useState)(""),[S,_]=(0,a.useState)(""),[k,v]=(0,a.useState)(!1);return i().logToConsole=!0,(0,a.useEffect)(()=>{if(d&&S&&k){console.log("teste com acompanhante");let e=new(i())("".concat("1f678673e53816425e3a"),{cluster:"".concat("sa1"),authEndpoint:"".concat("https://app.diib.io/vagas-next/","/proc/Controllers/server.php"),auth:{headers:{"Content-Type":"application/json"},params:{name:d,email:S,acompanhante:k}}}),s=new(i())("".concat("1f678673e53816425e3a"),{cluster:"".concat("sa1"),authEndpoint:"".concat("https://app.diib.io/vagas-next/","proc/Controllers/server.php"),auth:{headers:{"Content-Type":"application/json"},params:{name:"".concat(d,"_acomp"),email:"".concat(S,"_acomp")}}});return e.connection.bind("connected",()=>{m(e.subscribe("presence-menu-channel"))}),s.connection.bind("connected",()=>{h(s.subscribe("presence-menu-channel"))}),o(e),l(s),()=>{e.disconnect()}}if(d&&S){console.log("teste sem acompanhante");let e=new(i())("".concat("1f678673e53816425e3a"),{cluster:"".concat("sa1"),authEndpoint:"".concat("https://app.diib.io/vagas-next/","proc/Controllers/server.php"),auth:{headers:{"Content-Type":"application/json"},params:{name:d,email:S}}});return e.connection.bind("connected",()=>{m(e.subscribe("presence-menu-channel"))}),o(e),()=>{e.disconnect()}}},[d,S,k]),(0,n.jsx)(c.Provider,{value:{pusher:t,setPusher:o,channel:u,setChannel:m,userName:d,setUserName:b,userEmail:S,setUserEmail:_,acompanhante:k,setAcompanhante:v,pusherAcomp:r,setPusherAcomp:l,channelAcomp:p,setChannelAcomp:h},children:s})}},6404:(e,s,t)=>{"use strict";t.d(s,{B:()=>r,default:()=>l});var n=t(7437),a=t(2265),o=t(668),i=t(6463),c=t(8472);let r=(0,a.createContext)({menuCount:0,setMenuCount:()=>{},session17:0,setSession17:()=>{},session17Limit:0,setSession17Limit:()=>{},session18:0,setSession18:()=>{},session18Limit:0,setSession18Limit:()=>{},session19:0,setSession19:()=>{},session19Limit:0,setSession19Limit:()=>{},session20:0,setSession20:()=>{},session20Limit:0,setSession20Limit:()=>{},session21:0,setSession21:()=>{},session21Limit:0,setSession21Limit:()=>{},session22:0,setSession22:()=>{},session22Limit:0,setSession22Limit:()=>{}}),l=e=>{let{children:s}=e,[t,l]=(0,a.useState)(0),[u,m]=(0,a.useState)(0),[p,h]=(0,a.useState)(0),[d,b]=(0,a.useState)(0),[S,_]=(0,a.useState)(0),[k,v]=(0,a.useState)(0),[f,C]=(0,a.useState)(0),[E,g]=(0,a.useState)(0),[L,w]=(0,a.useState)(0),[x,P]=(0,a.useState)(0),[j,y]=(0,a.useState)(0),[A,N]=(0,a.useState)(0),[T,M]=(0,a.useState)(0),{channel:O}=(0,a.useContext)(o.V),U=(0,i.useRouter)();return(0,a.useEffect)(()=>{(async()=>{try{let e=(await c.Z.get("".concat("https://app.diib.io/vagas-next/","/proc/Controllers/session.php"))).data;console.log(e),e.forEach(e=>{switch(e.session_time){case"17:00":m(e.session_users),h(e.session_limit);break;case"18:00":w(e.session_users),b(e.session_limit);break;case"19:00":P(e.session_users),_(e.session_limit);break;case"20:00":y(e.session_users),v(e.session_limit);break;case"21:00":N(e.session_users),C(e.session_limit);break;case"22:00":M(e.session_users),g(e.session_limit)}})}catch(e){console.error("Erro ao buscar sess\xf5es:",e)}})()},[]),(0,a.useEffect)(()=>{null==O||O.bind("pusher:subscription_succeeded",e=>{l(e.count),U.replace("/horarios")}),null==O||O.bind("pusher:member_added",()=>{l(e=>e+1),console.log("Member added")}),null==O||O.bind("pusher:member_removed",()=>{l(e=>e-1),console.log("Member removed")}),null==O||O.bind("client-consume",e=>{if(console.log(e),e.acompanhante)switch(e.session_time){case"17:00":m(e=>e+2);break;case"18:00":w(e=>e+2);break;case"19:00":P(e=>e+2);break;case"20:00":y(e=>e+2);break;case"21:00":N(e=>e+2);break;case"22:00":M(e=>e+2)}else switch(e.session_time){case"17:00":m(e=>e+1);break;case"18:00":w(e=>e+1);break;case"19:00":P(e=>e+1);break;case"20:00":y(e=>e+1);break;case"21:00":N(e=>e+1);break;case"22:00":M(e=>e+1)}})},[O]),(0,n.jsx)(r.Provider,{value:{menuCount:t,setMenuCount:l,session17:u,setSession17:m,session18:L,setSession18:w,session19:x,setSession19:P,session20:j,setSession20:y,session21:A,setSession21:N,session22:T,setSession22:M,session17Limit:p,session18Limit:d,session19Limit:S,session20Limit:k,session21Limit:f,session22Limit:E,setSession17Limit:h,setSession18Limit:b,setSession19Limit:_,setSession20Limit:v,setSession21Limit:C,setSession22Limit:g},children:s})}},3275:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[757,122,236,130,215,744],()=>s(9284)),_N_E=e.O()}]);